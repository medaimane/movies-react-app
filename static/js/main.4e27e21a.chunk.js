(this["webpackJsonpmovies-react-app"]=this["webpackJsonpmovies-react-app"]||[]).push([[0],{121:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);n(121);var a=n(0),r=n.n(a),i=n(32),o=n.n(i),c=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,197)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))},s=n(175),u=n(81),l=n(44),j=n(108),d=n.n(j),v=n(178),h=n(182),b=n(37),p=n(47),O=n(65),f=function(){function e(t){Object(b.a)(this,e),this.networkingService=t}return Object(p.a)(e,[{key:"search",value:function(e){return this.networkingService.getJSON("3/search/movie","query=".concat(e,"&page=1")).pipe(Object(O.a)((function(e){return e.results})))}}]),e}();var m,x=n(161),g=n(160);!function(e){e.GET="GET"}(m||(m={}));var w,y,M=function(){function e(t,n){Object(b.a)(this,e),this.ajaxCreationMethod=t,this.configuration=n}return Object(p.a)(e,[{key:"getJSON",value:function(e,t,n){var a=this.buildURL(e,t);return this.sendRequest(a,m.GET,n).pipe(Object(O.a)((function(e){return L(a,e),e.response})),Object(g.a)((function(e){return C(a,e),Object(x.a)((function(){return e}))})))}},{key:"sendRequest",value:function(e,t,n,a){return this.ajaxCreationMethod({url:e,method:t,headers:n,body:a,timeout:this.configuration.timeout})}},{key:"buildURL",value:function(e,t){var n=this.configuration;return n.baseUrl+"/"+e+"?api_key="+n.apiKey+"&"+(null!==t&&void 0!==t?t:"")}}]),e}(),L=function(e,t){return console.log("[URL: ".concat(e,"]"),t)},C=function(e,t){return console.error("[URL: ".concat(e,"]"),t)},E=new function e(){Object(b.a)(this,e),this.baseUrl="https://api.themoviedb.org",this.apiKey="1405fa58626b1669481b44339783a61c",this.timeout=3e4},S={moviesGateway:new f(new M(h.a,E))},F=n(184),I=n(186),k=n(163),R=n(109),T=n(196),W=n(162),_=(w="HOME",function(e){var t="".concat(w,"/").concat(e);return Object.assign((function(e){return{payload:e,type:t}}),{type:t,$:function(e){return Object(W.a)({payload:e,type:t})}})}),D={search:{success:_("SEARCH_SUCCESS"),failure:_("SEARCH_FAILURE")}},A={onSearchInputChange:_("ON_SEARCH_INPUT_CHANGE"),addToFavoriesMovies:_("ADD_TO_FAVORITES_MOVIES"),addToWatchLaterMovies:_("ADD_TO_WATCH_LATER_MOVIES"),removeFromFavoritesMovies:_("REMOVE_FROM_FAVORITES_MOVIES"),removeFromWatchLaterMovies:_("REMOVE_FROM_WATCH_LATER_MOVIES")},V=Object(F.a)((function(e,t,n){var a=n.moviesGateway;return e.pipe(Object(I.a)(A.onSearchInputChange.type),Object(k.a)((function(e){var t=e.payload;return t?a.search(t).pipe(Object(T.a)(1e4),Object(O.a)(D.search.success),Object(g.a)((function(){return Object(W.a)(D.search.failure())}))):R.a})))})),B=Object(F.a)(V),U=n(23),G=n(25);!function(e){e.Loading="Loading",e.Empty="Empty",e.Data="Data",e.Error="Error"}(y||(y={}));var H={isWelcomeVisible:!0,viewState:y.Loading,search:"",movies:[],favoritesMovies:[],watchLaterMovies:[]};function N(e){return e.filter((function(e){return e.poster_path}))}var P=Object(l.c)({home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.onSearchInputChange.type:return Object(G.a)(Object(G.a)({},e),{},{search:t.payload,isWelcomeVisible:!1});case D.search.success.type:var n=N(t.payload),a=0===n.length;return Object(G.a)(Object(G.a)({},e),{},{viewState:a?y.Empty:y.Data,movies:n});case D.search.failure.type:return Object(G.a)(Object(G.a)({},e),{},{viewState:y.Error,movies:[]});case A.addToFavoriesMovies.type:var r=t.payload;return Object(G.a)(Object(G.a)({},e),{},{favoritesMovies:[r].concat(Object(U.a)(e.favoritesMovies))});case A.addToWatchLaterMovies.type:var i=t.payload;return Object(G.a)(Object(G.a)({},e),{},{watchLaterMovies:[i].concat(Object(U.a)(e.watchLaterMovies))});case A.removeFromFavoritesMovies.type:var o=t.payload;return Object(G.a)(Object(G.a)({},e),{},{favoritesMovies:e.favoritesMovies.filter((function(e){return e.id!==o.id}))});case A.removeFromWatchLaterMovies.type:var c=t.payload;return Object(G.a)(Object(G.a)({},e),{},{watchLaterMovies:e.watchLaterMovies.filter((function(e){return e.id!==c.id}))});default:return e}}});var z=function(){var e=Object(v.a)({dependencies:S}),t=Object(l.d)(P,Object(l.a)(e,d.a));return e.run(B),t}(),J=n(102),q=n(16),K=n(192),$=n(169),Q=n(193),X=n(171),Y=n(172),Z=n(187),ee="MoviesDB",te="Welcome to the Movies DB",ne="No movies found!",ae="Ooops! Something went wrong, click to retry!",re="Search...",ie="Favorites",oe="Watch later",ce=n(1);function se(){return Object(ce.jsx)(Z.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:"block"},children:ee})}var ue=n(8),le=n(179),je=n(6),de=n(166),ve=n(167),he=Object(je.a)("div")((function(e){var t,n=e.theme;return t={position:"relative",borderRadius:n.shape.borderRadius,backgroundColor:Object(de.a)(n.palette.common.white,.1),"&:hover":{backgroundColor:Object(de.a)(n.palette.common.white,.15)},paddingRight:n.spacing(2),paddingLeft:n.spacing(2),width:"100%"},Object(ue.a)(t,n.breakpoints.up("sm"),{paddingLeft:n.spacing(4),width:"auto"}),Object(ue.a)(t,n.breakpoints.up("xs"),{paddingLeft:n.spacing(1),width:"50%"}),t})),be=Object(je.a)("div")((function(e){var t=e.theme;return Object(ue.a)({height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},t.breakpoints.up("sm"),{paddingLeft:t.spacing(1)})})),pe=Object(je.a)(le.a)((function(e){var t,n=e.theme;return{color:"inherit","& .MuiInputBase-input":(t={padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),transition:n.transitions.create("width"),width:"100%"},Object(ue.a)(t,n.breakpoints.up("md"),{width:"20ch"}),Object(ue.a)(t,n.breakpoints.up("sm"),{paddingLeft:n.spacing(6)}),Object(ue.a)(t,n.breakpoints.up("xs"),{paddingLeft:n.spacing(5)}),t)}}));function Oe(e){return Object(ce.jsxs)(he,{children:[Object(ce.jsx)(be,{children:Object(ce.jsx)(ve.a,{})}),Object(ce.jsx)(pe,{fullWidth:!0,value:e.value,placeholder:re,inputProps:{"aria-label":re},onChange:function(t){return e.onChange(t.target.value)}})]})}var fe="#000000",me="#ffffff",xe=n(177),ge=n(181);function we(e){return Object(ce.jsx)(xe.a,{size:"large",edge:"end","aria-label":e.label,"aria-controls":e.menuId,"aria-haspopup":"true",onClick:function(t){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e,t.currentTarget)},color:"inherit",children:Object(ce.jsx)(ge.a,{variant:"dot",color:"error",overlap:"circular",invisible:!e.hasBadge,children:e.children})})}var ye=n(176);function Me(e){return Object(ce.jsx)(ye.a,{sx:{display:"flex",flex:1,justifyContent:"flex-end"},anchorEl:e.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},id:e.menuId,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:e.isOpen,onClose:e.onClose,children:e.children})}var Le=n(189),Ce=n(190),Ee=n(191),Se=n(170);function Fe(e){return Object(ce.jsxs)(Le.a,{sx:{display:"flex",flex:1,margin:2},children:[Object(ce.jsxs)($.a,{sx:{display:"flex",flexDirection:"column",flex:"1"},children:[Object(ce.jsxs)(Ce.a,{sx:{flex:"1 0 auto"},children:[Object(ce.jsx)(Z.a,{component:"div",variant:"h5",children:e.movie.title}),Object(ce.jsx)(Z.a,{variant:"subtitle1",color:"text.secondary",component:"p",children:e.movie.overview.substring(0,150)+"..."})]}),Object(ce.jsx)($.a,{sx:{display:"flex",alignItems:"center",pl:1,pb:1},children:Object(ce.jsx)(xe.a,{"aria-label":"remove",sx:{color:fe},onClick:function(){return e.onRemove()},children:Object(ce.jsx)(Se.a,{})})})]}),Object(ce.jsx)(Ee.a,{component:"img",sx:{width:151},image:e.movie.poster,alt:e.movie.title})]})}function Ie(e){var t=Boolean(e.anchorEl);return Object(ce.jsx)(Me,{anchorEl:e.anchorEl,isOpen:t,menuId:e.menuId,onClose:function(){e.onClose()},children:e.movies.map((function(t,n){return Object(ce.jsx)(Fe,{movie:t,onRemove:function(){return e.onRemove(t)}},"MoviesMenuItem_"+n)}))})}var ke=Object(je.a)(K.a)((function(){return{backgroundColor:fe}}));function Re(e){var t=Object(a.useState)(null),n=Object(q.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(null),c=Object(q.a)(o,2),s=c[0],u=c[1],l=e.favoritesMovies.length>0,j=e.watchLaterMovies.length>0,d="primary-favorites-menu",v=Object(ce.jsx)(Ie,{anchorEl:r,menuId:d,movies:e.favoritesMovies,onClose:function(){i(null)},onRemove:e.removeFromFavorites}),h="primary-watch-later-menu",b=Object(ce.jsx)(Ie,{anchorEl:s,menuId:h,movies:e.watchLaterMovies,onClose:function(){u(null)},onRemove:e.removeFromWatchLater});return Object(ce.jsxs)($.a,{children:[Object(ce.jsx)(ke,{position:"fixed",children:Object(ce.jsxs)(Q.a,{children:[Object(ce.jsx)(se,{}),Object(ce.jsx)(Te,{}),Object(ce.jsx)(Oe,{value:e.search,onChange:e.onSearchInputChange}),Object(ce.jsx)(Te,{}),Object(ce.jsxs)($.a,{sx:{display:"flex"},children:[Object(ce.jsx)(we,{hasBadge:l,label:ie,menuId:d,onClick:function(e){i(e)},children:Object(ce.jsx)(X.a,{})}),Object(ce.jsx)(we,{hasBadge:j,label:oe,menuId:h,onClick:function(e){u(e)},children:Object(ce.jsx)(Y.a,{})})]})]})}),l&&v,j&&b]})}function Te(){return Object(ce.jsx)($.a,{sx:{flexGrow:1}})}var We=n(173),_e=Object(je.a)(We.a)((function(e){var t=e.theme;return{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:fe,padding:t.spacing(8,0)}}));function De(e){return Object(ce.jsx)(Z.a,{sx:{color:me},variant:"h6",component:"p",children:e.text})}function Ae(){return Object(ce.jsx)(_e,{children:Object(ce.jsx)(De,{text:ne})})}var Ve=n(194),Be=n(185),Ue=n(180),Ge=Object(je.a)(Be.a)((function(e){var t=e.theme;return{paddingLeft:t.spacing(1),paddingRight:t.spacing(1),display:"flex",flexDirection:"row",flexWrap:"wrap",width:"100%",height:"100%",backgroundColor:fe,alignItems:"center",justifyContent:"center"}})),He=Object(je.a)(Ue.a)((function(e){return{margin:e.theme.spacing(2,2)}}));function Ne(e){return Object(ce.jsx)(Ge,{children:e.movies.map((function(t,n){return Object(ce.jsxs)(He,{children:[Object(ce.jsx)("img",{width:"700",src:"".concat(t.poster,"?w=300&fit=crop&auto=format"),srcSet:"".concat(t.poster,"?w=300&fit=crop&auto=format&dpr=2 2x"),alt:t.title,loading:"lazy"}),Object(ce.jsx)(Ve.a,{sx:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},position:"top",actionPosition:"right",actionIcon:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(xe.a,{disabled:t.isFavorite,sx:{color:"white"},"aria-label":"FavoriteIcon ".concat(t.title),onClick:function(){return e.addToFavorites(t)},children:Object(ce.jsx)(X.a,{color:t.isFavorite?"error":"inherit"})}),Object(ce.jsx)(xe.a,{disabled:t.isWatchLater,sx:{color:"white"},"aria-label":"AccessTimeIcon ".concat(t.title),onClick:function(){return e.addToWatchLater(t)},children:Object(ce.jsx)(Y.a,{color:t.isWatchLater?"error":"inherit"})})]})}),Object(ce.jsx)(Ve.a,{title:t.title,subtitle:t.overview})]},"MoviesListItem_"+n)}))})}var Pe=n(174);function ze(){return Object(ce.jsxs)(_e,{children:[Object(ce.jsx)(Pe.a,{}),Object(ce.jsx)(De,{text:ae})]})}var Je=n(195);function qe(){return Object(ce.jsx)(_e,{children:Object(ce.jsx)(Je.a,{})})}function Ke(e){return Object(ce.jsx)(_e,{children:function(){switch(e.viewState){case y.Data:return e.renderData();case y.Empty:return e.renderEmpty();case y.Error:return Object(ce.jsx)(ze,{});case y.Loading:return Object(ce.jsx)(qe,{})}}()})}function $e(){return Object(ce.jsx)(_e,{children:Object(ce.jsx)(De,{text:te})})}function Qe(e,t,n,a){return e.map((function(e){return{id:e.id,title:e.title,poster:(r=a,i=e.poster_path,r+"/t/p/w500"+i),overview:e.overview,isFavorite:t.some((function(t){return t.id===e.id})),isWatchLater:n.some((function(t){return t.id===e.id}))};var r,i}))}var Xe=function(e){return function(e,t){return{search:e.search,viewState:e.viewState,movies:Qe(e.movies,e.favoritesMovies,e.watchLaterMovies,t),isWelcomeVisible:e.isWelcomeVisible,favorites:e.favoritesMovies,watchLater:e.watchLaterMovies}}(e.home,"https://image.tmdb.org")},Ye=function(e){return Object(l.b)(A,e)};Object(J.a)(Xe),Object(J.a)(Ye);var Ze=Object(u.b)(Xe,Ye)((function(e){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Re,{search:e.search,favoritesMovies:e.favorites,watchLaterMovies:e.watchLater,onSearchInputChange:e.onSearchInputChange,removeFromFavorites:e.removeFromFavoritesMovies,removeFromWatchLater:e.removeFromWatchLaterMovies}),e.isWelcomeVisible?Object(ce.jsx)($e,{}):Object(ce.jsx)(Ke,{viewState:e.viewState,renderData:function(){return Object(ce.jsx)(Ne,{movies:e.movies,addToFavorites:e.addToFavoriesMovies,addToWatchLater:e.addToWatchLaterMovies})},renderEmpty:function(){return Object(ce.jsx)(Ae,{})}})]})}));function et(){return Object(ce.jsxs)(u.a,{store:z,children:[Object(ce.jsx)(s.a,{}),Object(ce.jsx)(Ze,{})]})}o.a.render(Object(ce.jsx)(r.a.StrictMode,{children:Object(ce.jsx)(et,{})}),document.getElementById("root")),c()}},[[132,1,2]]]);
//# sourceMappingURL=main.4e27e21a.chunk.js.map